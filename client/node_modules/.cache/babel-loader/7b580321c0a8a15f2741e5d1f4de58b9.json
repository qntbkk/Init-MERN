{"ast":null,"code":"import axios from 'axios';\nimport { ADD_POST, GET_ERRORS, CLEAR_ERRORS, GET_POSTS, GET_POST, POST_LOADING, DELETE_POST } from './types'; // Add Post\n\nexport var addPost = function addPost(postData) {\n  return function (dispatch) {\n    dispatch(clearErrors());\n    axios.post('/api/posts', postData).then(function (res) {\n      return dispatch({\n        type: ADD_POST,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Get Posts\n\nexport var getPosts = function getPosts() {\n  return function (dispatch) {\n    dispatch(setPostLoading());\n    axios.get('/api/posts').then(function (res) {\n      return dispatch({\n        type: GET_POSTS,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_POSTS,\n        payload: null\n      });\n    });\n  };\n}; // Get Post\n\nexport var getPost = function getPost(id) {\n  return function (dispatch) {\n    dispatch(setPostLoading());\n    axios.get(\"/api/posts/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: GET_POST,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_POST,\n        payload: null\n      });\n    });\n  };\n}; // Delete Post\n\nexport var deletePost = function deletePost(id) {\n  return function (dispatch) {\n    axios.delete(\"/api/posts/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: DELETE_POST,\n        payload: id\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Add Like\n\nexport var addLike = function addLike(id) {\n  return function (dispatch) {\n    axios.post(\"/api/posts/like/\".concat(id)).then(function (res) {\n      return dispatch(getPosts());\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Remove Like\n\nexport var removeLike = function removeLike(id) {\n  return function (dispatch) {\n    axios.post(\"/api/posts/unlike/\".concat(id)).then(function (res) {\n      return dispatch(getPosts());\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Add Comment\n\nexport var addComment = function addComment(postId, commentData) {\n  return function (dispatch) {\n    dispatch(clearErrors());\n    axios.post(\"/api/posts/comment/\".concat(postId), commentData).then(function (res) {\n      return dispatch({\n        type: GET_POST,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Delete Comment\n\nexport var deleteComment = function deleteComment(postId, commentId) {\n  return function (dispatch) {\n    axios.delete(\"/api/posts/comment/\".concat(postId, \"/\").concat(commentId)).then(function (res) {\n      return dispatch({\n        type: GET_POST,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Set loading state\n\nexport var setPostLoading = function setPostLoading() {\n  return {\n    type: POST_LOADING\n  };\n}; // Clear errors\n\nexport var clearErrors = function clearErrors() {\n  return {\n    type: CLEAR_ERRORS\n  };\n};","map":{"version":3,"sources":["C:\\Labs\\TNL-BRE\\client\\src\\actions\\postActions.js"],"names":["axios","ADD_POST","GET_ERRORS","CLEAR_ERRORS","GET_POSTS","GET_POST","POST_LOADING","DELETE_POST","addPost","postData","dispatch","clearErrors","post","then","res","type","payload","data","catch","err","response","getPosts","setPostLoading","get","getPost","id","deletePost","delete","addLike","removeLike","addComment","postId","commentData","deleteComment","commentId"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\nimport {\r\n  ADD_POST,\r\n  GET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  GET_POSTS,\r\n  GET_POST,\r\n  POST_LOADING,\r\n  DELETE_POST\r\n} from './types';\r\n\r\n// Add Post\r\nexport const addPost = postData => dispatch => {\r\n  dispatch(clearErrors());\r\n  axios\r\n    .post('/api/posts', postData)\r\n    .then(res =>\r\n      dispatch({\r\n        type: ADD_POST,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Get Posts\r\nexport const getPosts = () => dispatch => {\r\n  dispatch(setPostLoading());\r\n  axios\r\n    .get('/api/posts')\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_POSTS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_POSTS,\r\n        payload: null\r\n      })\r\n    );\r\n};\r\n\r\n// Get Post\r\nexport const getPost = id => dispatch => {\r\n  dispatch(setPostLoading());\r\n  axios\r\n    .get(`/api/posts/${id}`)\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_POST,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_POST,\r\n        payload: null\r\n      })\r\n    );\r\n};\r\n\r\n// Delete Post\r\nexport const deletePost = id => dispatch => {\r\n  axios\r\n    .delete(`/api/posts/${id}`)\r\n    .then(res =>\r\n      dispatch({\r\n        type: DELETE_POST,\r\n        payload: id\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Add Like\r\nexport const addLike = id => dispatch => {\r\n  axios\r\n    .post(`/api/posts/like/${id}`)\r\n    .then(res => dispatch(getPosts()))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Remove Like\r\nexport const removeLike = id => dispatch => {\r\n  axios\r\n    .post(`/api/posts/unlike/${id}`)\r\n    .then(res => dispatch(getPosts()))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Add Comment\r\nexport const addComment = (postId, commentData) => dispatch => {\r\n  dispatch(clearErrors());\r\n  axios\r\n    .post(`/api/posts/comment/${postId}`, commentData)\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_POST,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Delete Comment\r\nexport const deleteComment = (postId, commentId) => dispatch => {\r\n  axios\r\n    .delete(`/api/posts/comment/${postId}/${commentId}`)\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_POST,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Set loading state\r\nexport const setPostLoading = () => {\r\n  return {\r\n    type: POST_LOADING\r\n  };\r\n};\r\n\r\n// Clear errors\r\nexport const clearErrors = () => {\r\n  return {\r\n    type: CLEAR_ERRORS\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}